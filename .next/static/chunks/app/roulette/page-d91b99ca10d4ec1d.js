(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[928],{7640:function(e,t,r){Promise.resolve().then(r.bind(r,7617)),Promise.resolve().then(r.bind(r,6979))},6979:function(e,t,r){"use strict";r.r(t);var a=r(3827),s=r(4090),l=r(5598),n=r(5759);t.default=()=>{let{user:e,setUser:t,t:r}=(0,n.useGame)(),[c,o]=(0,s.useState)(!1),[i,d]=(0,s.useState)(null),[x,p]=(0,s.useState)(0),b=(0,s.useRef)(null);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-marker text-yellow-500 mb-1",children:r.roulette}),(0,a.jsx)("p",{className:"text-[10px] text-zinc-500 uppercase font-bold tracking-widest italic",children:'"Apu\xe9stalo todo, recupera el barrio"'})]}),(0,a.jsxs)("div",{className:"relative flex flex-col justify-center items-center py-8",children:[(0,a.jsx)("div",{className:"absolute top-4 z-30 w-0 h-0 border-l-[15px] border-l-transparent border-r-[15px] border-r-transparent border-t-[30px] border-t-yellow-500 drop-shadow-[0_0_10px_rgba(234,179,8,0.5)]"}),(0,a.jsxs)("div",{ref:b,style:{transform:"rotate(".concat(x,"deg)"),transition:c?"transform 4s cubic-bezier(0.15, 0, 0.15, 1)":"none"},className:"w-72 h-72 rounded-full border-8 border-zinc-800 relative overflow-hidden bg-zinc-900 shadow-[0_0_60px_rgba(0,0,0,1)] ring-4 ring-zinc-900/50",children:[(0,a.jsxs)("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[l.Hl.map((e,t)=>{let r=18*t,s=(t+1)*18,l=t%2==0?"#1a1a1a":"#7f1d1d";return e.value>=.05&&(l="#eaaf08"),"MISS"===e.type&&(l=t%2==0?"#000000":"#450a0a"),(0,a.jsxs)("g",{children:[(0,a.jsx)("path",{d:"M 50 50 L ".concat(50+50*Math.cos(Math.PI*(r-90)/180)," ").concat(50+50*Math.sin(Math.PI*(r-90)/180)," A 50 50 0 0 1 ").concat(50+50*Math.cos(Math.PI*(s-90)/180)," ").concat(50+50*Math.sin(Math.PI*(s-90)/180)," Z"),fill:l,stroke:"#000",strokeWidth:"0.1"}),(0,a.jsx)("text",{x:"50",y:"15",transform:"rotate(".concat(r+9,", 50, 50)"),fill:e.value>=.05?"#000":"#fff",fontSize:"2.2",fontWeight:"900",textAnchor:"middle",className:"font-sans tracking-tighter",style:{pointerEvents:"none",userSelect:"none"},children:e.label.replace(" TON","")})]},t)}),Array.from({length:20}).map((e,t)=>(0,a.jsx)("circle",{cx:50+48*Math.cos(Math.PI*(18*t-90)/180),cy:50+48*Math.sin(Math.PI*(18*t-90)/180),r:"0.8",fill:c&&Math.random()>.5?"#ffff00":"#ffffff"},t))]}),(0,a.jsx)("div",{className:"absolute inset-0 m-auto w-14 h-14 rounded-full bg-gradient-to-br from-zinc-700 to-zinc-900 border-4 border-zinc-800 flex items-center justify-center shadow-[inset_0_2px_10px_rgba(0,0,0,0.5)] z-10",children:(0,a.jsx)("img",{src:"https://i.ibb.co/JFB1dy5G/logo-cartel-wars-removebg-preview.png",className:"w-10 drop-shadow-lg",alt:"Logo"})})]})]}),(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsxs)("div",{className:"inline-flex items-center gap-2 bg-zinc-900 px-4 py-2 rounded-full border border-zinc-800",children:[(0,a.jsx)("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"Tus Tickets:"}),(0,a.jsx)("span",{className:"text-red-500 font-marker text-xl",children:e.tickets}),(0,a.jsx)("span",{className:"text-lg",children:"\uD83C\uDF9Fï¸"})]}),(0,a.jsx)("button",{onClick:()=>{if(e.tickets<=0||c)return;o(!0),d(null);let r=Math.random(),a=0,s=0;for(let e=0;e<l.Hl.length;e++)if(r<(a+=l.Hl[e].probability)){s=e;break}let n=l.Hl[s],i=360*(7+Math.floor(5*Math.random()))-18*s;p(e=>i+e%360),setTimeout(()=>{let r={...e,tickets:e.tickets-1};"TON"===n.type&&(r.balance+=n.value),"WEAPON"===n.type&&(r.ownedWeapons=[...e.ownedWeapons,n.value]),t(r),d(n),o(!1)},4e3)},disabled:c||e.tickets<=0,className:"w-full py-4 rounded-xl font-marker text-xl uppercase tracking-widest transition-all shadow-xl ".concat(e.tickets>0&&!c?"bg-gradient-to-r from-yellow-600 to-yellow-500 text-black hover:brightness-110 active:scale-95 gold-glow":"bg-zinc-800 text-zinc-600 cursor-not-allowed border border-zinc-700"),children:c?"GIRANDO...":"".concat(r.spinFor)})]}),i&&(0,a.jsxs)("div",{className:"bg-zinc-900 border-2 border-yellow-500 p-5 rounded-2xl text-center animate-in fade-in zoom-in duration-300 shadow-[0_0_30px_rgba(234,179,8,0.2)]",children:[(0,a.jsx)("p",{className:"text-[10px] text-zinc-500 uppercase font-bold mb-1 tracking-tighter",children:"\xa1Resultado del Golpe!"}),(0,a.jsx)("h4",{className:"text-2xl font-marker ".concat("MISS"===i.type?"text-red-500":"text-green-500"),children:i.label}),i.value>=.05&&(0,a.jsx)("div",{className:"mt-2 py-1 bg-yellow-500 text-black text-[10px] font-black uppercase rounded animate-pulse",children:"\xa1JACKPOT DEL BARRIO! \uD83C\uDFC6"})]}),(0,a.jsxs)("div",{className:"bg-black/40 p-3 rounded-lg border border-zinc-800/50",children:[(0,a.jsx)("p",{className:"text-[9px] text-zinc-600 uppercase font-bold mb-2 text-center",children:"Tabla de Premios Disponibles"}),(0,a.jsx)("div",{className:"grid grid-cols-5 gap-1",children:Array.from(new Set(l.Hl.map(e=>e.label))).slice(0,10).map((e,t)=>(0,a.jsx)("div",{className:"bg-zinc-900/50 p-1 text-[7px] text-center border border-zinc-800 rounded text-zinc-400 font-medium",children:e},t))})]})]})}}},function(e){e.O(0,[901,759,617,971,69,744],function(){return e(e.s=7640)}),_N_E=e.O()}]);