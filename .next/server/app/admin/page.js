(()=>{var e={};e.id=3,e.ids=[3],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3736:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>c});var r=s(482),a=s(9108),n=s(2563),i=s.n(n),l=s(8300),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let c=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7650)),"C:\\warofclans\\cartel-wars\\app\\admin\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,3724)),"C:\\warofclans\\cartel-wars\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\warofclans\\cartel-wars\\app\\admin\\page.tsx"],x="/admin/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},153:(e,t,s)=>{Promise.resolve().then(s.bind(s,8652)),Promise.resolve().then(s.bind(s,6998))},6998:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(5344),a=s(3729),n=s(6739);let i=({active:e,onClick:t,children:s})=>r.jsx("button",{onClick:t,className:`flex-1 min-w-[60px] py-3 rounded-xl text-[8px] font-black uppercase transition-all flex items-center justify-center gap-1 ${e?"bg-red-900 text-white":"text-zinc-600"}`,children:s}),l=({label:e,value:t,onChange:s,type:a="text"})=>(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-[8px] text-zinc-500 font-black uppercase ml-1",children:e}),r.jsx("input",{type:a,value:t,onChange:e=>s(e.target.value),className:"w-full bg-black border border-zinc-800 p-3 rounded-xl text-xs text-white outline-none focus:border-red-600"})]}),d=()=>{let{user:e,globalUsers:t,setGlobalUsers:s,transactions:d,setTransactions:c,settings:o,setSettings:x,t:p}=(0,n.useGame)(),[m,u]=(0,a.useState)("users"),[b,h]=(0,a.useState)(""),[g,f]=(0,a.useState)({}),[j,N]=(0,a.useState)({title:"",link:"",waitTime:60,reward:.1,maxUsers:100,logo:""}),w=(0,a.useRef)(null);if(!e.isAdmin)return r.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-8 text-center",children:r.jsx("h1",{className:"text-red-600 font-marker text-3xl uppercase",children:p.adminOnly})});let v=e=>{x({...o,premiumMissions:o.premiumMissions.filter(t=>t.id!==e)})},k=t.filter(e=>e.id.includes(b)||e.name.toLowerCase().includes(b.toLowerCase())||e.email.toLowerCase().includes(b.toLowerCase())),y=d.filter(e=>"deposit"===e.type&&"pending"===e.status),z=d.filter(e=>"withdrawal"===e.type&&"pending"===e.status),C=d.filter(e=>"deposit"===e.type&&"approved"===e.status).reduce((e,t)=>e+t.amount,0),P=d.filter(e=>"withdrawal"===e.type&&"approved"===e.status).reduce((e,t)=>e+t.amount,0),A=(e,t)=>{f(s=>({...s,[e]:t}))},R=(e,r)=>{let a=parseFloat(g[e]||"0");isNaN(a)||a<=0||(s(t.map(t=>{if(t.id===e){let e=r?t.balance+a:Math.max(0,t.balance-a);return{...t,balance:Number(e.toFixed(6))}}return t})),f(t=>({...t,[e]:""})),alert(r?`Inyectados ${a} TON`:`Confiscados ${a} TON`))},E=e=>{s(t.map(t=>t.id===e?{...t,isBanned:!t.isBanned}:t))},T=(e,r)=>{let a=d.find(t=>t.id===e);if(a&&"pending"===a.status){if("approved"===r){if("deposit"===a.type){let e=[...t],r=e.findIndex(e=>e.id===a.userId);if(r>=0){let t=e[r];if(e[r]={...t,balance:Number((t.balance+a.amount).toFixed(6))},t.referredBy){let s=e.findIndex(e=>e.id===t.referredBy);if(s>=0){let t=a.amount*(o.referralCommissionPercent/100);e[s]={...e[s],balance:Number((e[s].balance+t).toFixed(6))}}}}s(e)}}else"withdrawal"===a.type&&s(t.map(e=>e.id===a.userId?{...e,balance:Number((e.balance+a.amount+.1).toFixed(6))}:e));c(d.map(t=>t.id===e?{...t,status:r}:t))}};return(0,r.jsxs)("div",{className:"space-y-6 pb-20",children:[r.jsx("h2",{className:"text-2xl font-marker text-red-600 text-center uppercase tracking-widest",children:p.adminPanel}),(0,r.jsxs)("div",{className:"flex bg-zinc-950 p-1 rounded-2xl border border-zinc-800 overflow-x-auto gap-1",children:[r.jsx(i,{active:"users"===m,onClick:()=>u("users"),children:"Hitmen"}),(0,r.jsxs)(i,{active:"deposits"===m,onClick:()=>u("deposits"),children:["DEP ",(0,r.jsxs)("span",{className:y.length>0?"text-red-500 animate-pulse":"",children:["(",y.length,")"]})]}),(0,r.jsxs)(i,{active:"withdrawals"===m,onClick:()=>u("withdrawals"),children:["WDR ",(0,r.jsxs)("span",{className:z.length>0?"text-yellow-500 animate-pulse":"",children:["(",z.length,")"]})]}),r.jsx(i,{active:"premium"===m,onClick:()=>u("premium"),children:"PREMIUM"}),r.jsx(i,{active:"settings"===m,onClick:()=>u("settings"),children:"NET"})]}),"users"===m&&(0,r.jsxs)("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4",children:[r.jsx("input",{type:"text",placeholder:p.userSearch,value:b,onChange:e=>h(e.target.value),className:"w-full bg-zinc-900 border border-zinc-800 p-4 rounded-2xl text-xs text-white outline-none focus:border-red-600"}),r.jsx("div",{className:"grid grid-cols-1 gap-3",children:k.map(e=>(0,r.jsxs)("div",{className:"bg-zinc-950 border border-zinc-800 p-4 rounded-2xl space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-sm font-bold text-white uppercase",children:[e.name," ",(0,r.jsxs)("span",{className:"text-[10px] text-zinc-600 font-normal",children:["#",e.id]})]}),r.jsx("p",{className:"text-[9px] text-zinc-500",children:e.email})]}),r.jsx("div",{className:`px-2 py-1 rounded text-[8px] font-black uppercase ${e.isBanned?"bg-red-900/20 text-red-500 border border-red-900":"bg-green-900/20 text-green-500 border border-green-900"}`,children:e.isBanned?"BANEADO":"ACTIVO"})]}),(0,r.jsxs)("div",{className:"flex gap-4 border-t border-zinc-900 pt-3",children:[(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("p",{className:"text-[8px] text-zinc-600 font-black uppercase",children:"TON"}),r.jsx("p",{className:"text-xs text-yellow-500 font-bold",children:e.balance.toFixed(4)})]}),e.referredBy&&(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("p",{className:"text-[8px] text-zinc-600 font-black uppercase",children:"Reclutado Por"}),(0,r.jsxs)("p",{className:"text-[10px] text-white font-mono",children:["#",e.referredBy]})]})]}),(0,r.jsxs)("div",{className:"space-y-3 bg-black/30 p-3 rounded-xl border border-zinc-900",children:[r.jsx("p",{className:"text-[8px] text-zinc-500 font-black uppercase tracking-widest mb-2",children:"Ajuste de Saldo Libre"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("input",{type:"number",step:"0.0001",placeholder:"0.00",value:g[e.id]||"",onChange:t=>A(e.id,t.target.value),className:"flex-1 bg-zinc-900 border border-zinc-800 p-2 rounded text-xs text-white outline-none focus:border-red-600"}),r.jsx("button",{onClick:()=>R(e.id,!0),className:"bg-green-700 text-white text-[9px] px-3 py-1 rounded font-black hover:bg-green-600",children:"DAR"}),r.jsx("button",{onClick:()=>R(e.id,!1),className:"bg-red-700 text-white text-[9px] px-3 py-1 rounded font-black hover:bg-red-600",children:"QUITAR"})]})]}),r.jsx("button",{onClick:()=>E(e.id),className:`w-full text-[8px] font-black px-3 py-2 rounded-lg border transition-all ${e.isBanned?"bg-green-600 border-green-500 text-white":"bg-red-600 border-red-500 text-white"}`,children:e.isBanned?p.unban:p.ban})]},e.id))})]}),"premium"===m&&(0,r.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4",children:[(0,r.jsxs)("div",{className:"bg-zinc-900 border border-zinc-800 p-6 rounded-2xl space-y-4",children:[r.jsx("h3",{className:"font-marker text-white uppercase text-center",children:p.createPremium}),(0,r.jsxs)("div",{className:"flex flex-col items-center mb-4",children:[r.jsx("div",{className:"w-16 h-16 bg-black border border-zinc-800 rounded-xl mb-2 overflow-hidden flex items-center justify-center p-2 shadow-inner",children:j.logo?r.jsx("img",{src:j.logo,className:"w-full h-full object-contain"}):r.jsx("span",{className:"opacity-10 text-3xl",children:"\uD83E\uDEAA"})}),r.jsx("button",{onClick:()=>w.current?.click(),className:"text-[10px] text-blue-500 font-bold uppercase underline",children:"Subir Logo"}),r.jsx("input",{type:"file",ref:w,className:"hidden",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(t){let e=new FileReader;e.onloadend=()=>{N({...j,logo:e.result})},e.readAsDataURL(t)}}})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[r.jsx(l,{label:p.missionTitle,value:j.title||"",onChange:e=>N({...j,title:e})}),r.jsx(l,{label:p.missionLink,value:j.link||"",onChange:e=>N({...j,link:e})}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[r.jsx(l,{label:p.missionTime,type:"number",value:j.waitTime?.toString()||"",onChange:e=>N({...j,waitTime:parseInt(e)})}),r.jsx(l,{label:p.missionRewardVal,type:"number",value:j.reward?.toString()||"",onChange:e=>N({...j,reward:parseFloat(e)})}),r.jsx(l,{label:p.missionUsers,type:"number",value:j.maxUsers?.toString()||"",onChange:e=>N({...j,maxUsers:parseInt(e)})})]}),r.jsx("button",{onClick:()=>{if(!j.title||!j.link||!j.logo){alert("Missing data for the mission");return}let e={id:Date.now().toString(),title:j.title,link:j.link,waitTime:j.waitTime||60,reward:j.reward||.1,maxUsers:j.maxUsers||100,logo:j.logo,completedUserIds:[]};x({...o,premiumMissions:[e,...o.premiumMissions||[]]}),N({title:"",link:"",waitTime:60,reward:.1,maxUsers:100,logo:""})},className:"w-full py-4 bg-green-700 text-white rounded-xl font-marker uppercase tracking-widest mt-2",children:p.createPremium})]})]}),r.jsx("div",{className:"space-y-3",children:o.premiumMissions?.map(e=>r.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 p-4 rounded-2xl flex items-center gap-4",children:[r.jsx("img",{src:e.logo,className:"w-10 h-10 object-contain rounded-lg"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-white font-bold text-xs uppercase truncate",children:e.title}),r.jsx("p",{className:"text-[8px] text-zinc-500 truncate",children:e.link}),r.jsxs("div",{className:"flex gap-2 mt-1",children:[r.jsxs("span",{className:"text-[7px] bg-yellow-900/20 text-yellow-500 border border-yellow-900 px-1.5 rounded",children:[e.reward," TON"]}),r.jsxs("span",{className:"text-[7px] bg-zinc-900 text-zinc-400 px-1.5 rounded",children:[e.completedUserIds.length," / ",e.maxUsers]})]})]}),r.jsx("button",{onClick:()=>v(e.id),className:"text-red-500 font-bold text-lg p-2",children:"\xd7"})]},e.id))})]}),("deposits"===m||"withdrawals"===m)&&r.jsx("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4",children:r.jsx("div",{className:"space-y-3",children:0===("deposits"===m?y:z).length?r.jsx("p",{className:"text-center py-20 text-zinc-700 font-black uppercase text-[10px] tracking-widest italic",children:"No hay solicitudes pendientes"}):("deposits"===m?y:z).map(e=>(0,r.jsxs)("div",{className:"bg-zinc-950 border border-zinc-800 p-4 rounded-2xl flex justify-between items-center group hover:border-zinc-700 transition-all",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("p",{className:"text-[10px] font-bold text-white uppercase",children:e.userName}),(0,r.jsxs)("span",{className:"text-[8px] text-zinc-600 font-mono",children:["#",e.userId]})]}),(0,r.jsxs)("p",{className:`text-lg font-marker ${"deposit"===e.type?"text-green-500":"text-red-500"}`,children:[e.amount," ",e.currency]}),(0,r.jsxs)("div",{className:"bg-black/50 p-2 rounded mt-2 border border-zinc-900",children:[r.jsx("p",{className:"text-[7px] text-zinc-500 font-black uppercase mb-1",children:"deposit"===e.type?"TXID RECLAMADO":"DIRECCI\xd3N DE RETIRO"}),r.jsx("p",{className:"text-[7px] text-zinc-400 font-mono break-all leading-tight",children:e.txid})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 ml-4",children:[r.jsx("button",{onClick:()=>T(e.id,"approved"),className:"bg-green-700 text-white text-[9px] font-black uppercase px-4 py-2.5 rounded-lg hover:bg-green-600 transition-colors shadow-lg shadow-green-900/20",children:"APROBAR"}),r.jsx("button",{onClick:()=>T(e.id,"rejected"),className:"bg-zinc-800 text-zinc-400 text-[9px] font-black uppercase px-4 py-2.5 rounded-lg hover:bg-red-900 hover:text-white transition-all",children:"RECHAZAR"})]})]},e.id))})}),"settings"===m&&(0,r.jsxs)("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4",children:[(0,r.jsxs)("div",{className:"bg-zinc-950 border border-zinc-800 p-6 rounded-2xl space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-sm font-bold text-white uppercase tracking-widest",children:"Mercado Negro (Swap)"}),r.jsx("p",{className:"text-[9px] text-zinc-600 font-black uppercase",children:"Permitir CWARS â†’ TON"})]}),r.jsx("button",{onClick:()=>x({...o,swapEnabled:!o.swapEnabled}),className:`px-6 py-2 rounded-full text-[10px] font-black transition-all ${o.swapEnabled?"bg-green-600 text-white shadow-[0_0_10px_rgba(34,197,94,0.3)]":"bg-zinc-800 text-zinc-500"}`,children:o.swapEnabled?"ACTIVO":"CERRADO"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center border-t border-zinc-900 pt-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-sm font-bold text-white uppercase tracking-widest",children:"Canales de Retiro"}),r.jsx("p",{className:"text-[9px] text-zinc-600 font-black uppercase",children:"Permitir salidas de capital a TON"})]}),r.jsx("button",{onClick:()=>x({...o,withdrawalEnabled:!o.withdrawalEnabled}),className:`px-6 py-2 rounded-full text-[10px] font-black transition-all ${o.withdrawalEnabled?"bg-green-600 text-white shadow-[0_0_10px_rgba(34,197,94,0.3)]":"bg-zinc-800 text-zinc-500"}`,children:o.withdrawalEnabled?"ACTIVO":"CERRADO"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center border-t border-zinc-900 pt-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-sm font-bold text-white uppercase tracking-widest",children:"Comisi\xf3n por Recluta"}),r.jsx("p",{className:"text-[9px] text-zinc-600 font-black uppercase",children:"Porcentaje ganado por cada dep\xf3sito del referido"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"number",min:"1",max:"50",value:o.referralCommissionPercent,onChange:e=>x({...o,referralCommissionPercent:parseInt(e.target.value)||0}),className:"w-16 bg-black border border-zinc-800 p-2 rounded-lg text-center font-marker text-lg text-yellow-500"}),r.jsx("span",{className:"text-lg text-zinc-600 font-bold",children:"%"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{className:"bg-zinc-950 border border-zinc-800 p-4 rounded-2xl text-center",children:[r.jsx("p",{className:"text-[8px] text-zinc-600 font-black uppercase mb-1",children:"TON Depositado"}),r.jsx("p",{className:"text-xl font-marker text-green-500",children:C.toFixed(2)})]}),(0,r.jsxs)("div",{className:"bg-zinc-950 border border-zinc-800 p-4 rounded-2xl text-center",children:[r.jsx("p",{className:"text-[8px] text-zinc-600 font-black uppercase mb-1",children:"TON Retirado"}),r.jsx("p",{className:"text-xl font-marker text-red-500",children:P.toFixed(2)})]}),(0,r.jsxs)("div",{className:"bg-zinc-950 border border-zinc-800 p-4 rounded-2xl text-center",children:[r.jsx("p",{className:"text-[8px] text-zinc-600 font-black uppercase mb-1",children:"Sicarios en Base"}),r.jsx("p",{className:"text-xl font-marker text-white",children:t.length})]}),(0,r.jsxs)("div",{className:"bg-zinc-950 border border-zinc-800 p-4 rounded-2xl text-center",children:[r.jsx("p",{className:"text-[8px] text-zinc-600 font-black uppercase mb-1",children:"Operaciones Totales"}),r.jsx("p",{className:"text-xl font-marker text-white",children:d.length})]})]})]})]})}},7650:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(5036),a=s(4475);let n=(0,s(6843).createProxy)(String.raw`C:\warofclans\cartel-wars\views\Admin.tsx`),{__esModule:i,$$typeof:l}=n,d=n.default;function c(){return r.jsx(a.ZP,{children:r.jsx(d,{})})}}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,356,321,926,158],()=>s(3736));module.exports=r})();